package org.tinygroup.bundle.test.loader;

import junit.framework.TestCase;

public class LoaderFactoryTest extends TestCase{

	public void testLoader() {
//		String file1 = "J:\\tinygroupgit\\tiny\\framework\\org.tinygroup.bundle\\src\\test\\resources\\grade.beans.xml";
//		String file2 = "J:\\tinygroupgit\\tiny\\framework\\org.tinygroup.bundle\\src\\test\\resources\\user.beans.xml";
//		String jar1 = "J:\\tinygroupgit\\tiny\\framework\\org.tinygroup.bundle\\src\\test\\resources\\test1-0.0.1-SNAPSHOT.jar";
//		String jar2 = "J:\\tinygroupgit\\tiny\\framework\\org.tinygroup.bundle\\src\\test\\resources\\test2-0.0.1-SNAPSHOT.jar";
//		TinyClassLoader loader1 = null;
//		TinyClassLoader loader2 = null;
//		try {
//			
//			URL u1 = new File(jar1).toURL();
//			URL u2 = new File(jar2).toURL();
//			
//			loader1 = new TinyClassLoader(new URL[]{u1});
//			loader2 = new TinyClassLoader(new URL[]{u2},loader1);
//			loader2.addDependClassLoader(loader1);
//			loader2.loadClass("org.tinygroup.Grade");
//			
//		} catch (Exception e) {
//			System.out.println("======================");
//			e.printStackTrace();
//		}
//		String[] s1 = new String[] { file1 };
//		String[] s2 = new String[] { file2 };
//		FileSystemXmlApplicationContext app1 = new FileSystemXmlApplicationContext(s1);
//		app1.setClassLoader(loader1);
//		FileSystemXmlApplicationContext app2 = new FileSystemXmlApplicationContext(s2,app1);
//		app2.setClassLoader(loader2);
//		app1.refresh();
//		app2.refresh();
//		app2.getBean("user");
	}
}
